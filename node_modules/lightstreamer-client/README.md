# Lightstreamer Client #

> :warning: **This library is deprecated!**
> 
> Use the new [Lightstreamer Client Node.js SDK](https://www.npmjs.com/package/lightstreamer-client-node) or [Lightstreamer Client Web SDK](https://www.npmjs.com/package/lightstreamer-client-web) instead.

## Use ##
Install the package using npm
```
npm install lightstreamer-client
```

Create a client and connect 

```js
var ls = require("lightstreamer-client");
var lsClient = new ls.LightstreamerClient("http://push.lightstreamer.com","DEMO");  
lsClient.connect();
```

Create a Subscription and send it to the server 

```js
var testSubscription = new ls.Subscription("MERGE",["item1","item2","item3"],["stock_name","last_price"]);
testSubscription.setDataAdapter("QUOTE_ADAPTER");
testSubscription.setRequestedSnapshot("yes");
lsClient.subscribe(testSubscription);
```
 
Listen for events
 
```js  
lsClient.addListener({
	onStatusChange: function(newStatus) {         
	  console.log(newStatus);
	}
});

testSubscription.addListener({
	onSubscription: function() {
	  console.log("SUBSCRIBED");
	},
	onUnsubscription: function() {
	  console.log("UNSUBSCRIBED");
	},
	onItemUpdate: function(obj) {
	  console.log(obj.getValue("stock_name") + ": " + obj.getValue("last_price"));
	}
});
```

For further details check the [API](http://www.lightstreamer.com/repo/res/ls-nodejs-client/7.3.2/ls-nodejs-client-7.3.2-jsdoc.zip%23/) and the available [examples](http://demos.lightstreamer.com/?p=lightstreamer&t=client&lclient=nodejs)